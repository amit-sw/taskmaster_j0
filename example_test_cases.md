# Team Task Notes: Example Test Cases

This document outlines example test cases for key areas of the Team Task Notes application, based on the `testing_strategy.md` and previously defined feature designs.

---

## 1. User Authentication (AuthN & AuthZ)

### 1.1. Registration

| ID        | Description                                      | Steps                                                                                                | Expected Result                                                                                                | Test Level   | Priority |
| :-------- | :----------------------------------------------- | :--------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------- | :----------- | :------- |
| AUTH-001  | Successful user registration with valid data.    | 1. Navigate to registration page. 2. Enter valid name, email, and password. 3. Submit form.          | User account is created. User is logged in or redirected to login page. Success message displayed.             | E2E          | High     |
| AUTH-002  | Attempt registration with an already existing email. | 1. Navigate to registration page. 2. Enter name, an existing email, and password. 3. Submit form. | Registration fails. Appropriate error message displayed (e.g., "Email already in use").                       | E2E          | High     |
| AUTH-003  | Attempt registration with invalid email format.  | 1. Navigate to registration page. 2. Enter name, an invalid email (e.g., "test@.com"), and password. 3. Submit form. | Registration fails. Inline validation error for email field or form submission error.                      | E2E          | Medium   |
| AUTH-004  | Attempt registration with a weak password.       | 1. Navigate to registration page. 2. Enter valid name, email, and a weak password (e.g., "123"). 3. Submit form. | Registration fails (if password strength rules exist). Appropriate error message displayed.                    | E2E          | Medium   |
| AUTH-005  | Backend: User model validation for email.        | 1. Call user creation service/function with an invalid email.                                        | Validation error is raised. User is not created.                                                               | Unit         | High     |
| AUTH-006  | Backend: Password hashing during registration.   | 1. Register a new user via API. 2. Check the stored password hash in the database (mocked or test DB). | Password stored in the database is a hash, not plaintext.                                                        | Integration  | High     |

### 1.2. Login

| ID        | Description                                   | Steps                                                                                            | Expected Result                                                                                | Test Level   | Priority |
| :-------- | :-------------------------------------------- | :----------------------------------------------------------------------------------------------- | :--------------------------------------------------------------------------------------------- | :----------- | :------- |
| AUTH-007  | Successful login with valid credentials.      | 1. Navigate to login page. 2. Enter valid email and password. 3. Submit form.                    | User is logged in. Redirected to dashboard. Session/token is created.                          | E2E          | High     |
| AUTH-008  | Attempt login with incorrect password.        | 1. Navigate to login page. 2. Enter valid email and incorrect password. 3. Submit form.          | Login fails. Appropriate error message (e.g., "Invalid email or password").                    | E2E          | High     |
| AUTH-009  | Attempt login with non-existent email.        | 1. Navigate to login page. 2. Enter non-existent email and a password. 3. Submit form.           | Login fails. Appropriate error message (e.g., "Invalid email or password").                    | E2E          | High     |
| AUTH-010  | Backend: Login API with valid credentials.    | 1. Send POST request to `/api/auth/login` with valid email/password.                             | 200 OK response. Returns auth token and user details.                                          | Integration  | High     |
| AUTH-011  | Backend: Login API with invalid credentials.  | 1. Send POST request to `/api/auth/login` with invalid email/password.                           | 401 Unauthorized (or similar error) response. No token returned.                               | Integration  | High     |

### 1.3. Access Control (Authorization)

| ID        | Description                                                           | Steps                                                                                                                               | Expected Result                                                                                                   | Test Level          | Priority |
| :-------- | :-------------------------------------------------------------------- | :---------------------------------------------------------------------------------------------------------------------------------- | :---------------------------------------------------------------------------------------------------------------- | :------------------ | :------- |
| AUTH-012  | Authenticated user attempts to access a protected route (e.g., notes page). | 1. Log in as a user. 2. Navigate to `/notes`.                                                                                     | User successfully accesses the notes page.                                                                        | E2E                 | High     |
| AUTH-013  | Unauthenticated user attempts to access a protected route.             | 1. Ensure no active session. 2. Navigate to `/notes`.                                                                               | User is redirected to the login page. Access is denied.                                                           | E2E                 | High     |
| AUTH-014  | User A attempts to access/edit User B's private note via API.          | 1. User A logs in. 2. User A makes API call to `GET /api/notes/{user_B_note_id}` or `PUT /api/notes/{user_B_note_id}` (note not shared). | API returns 403 Forbidden or 404 Not Found. Note data is not returned/modified.                                 | Integration         | High     |
| AUTH-015  | Non-admin user attempts to access an admin API endpoint.                | 1. Log in as a non-admin user. 2. Make API call to `/api/admin/notes`.                                                              | API returns 403 Forbidden. No admin data is returned.                                                             | Integration         | High     |

---

## 2. Note Management (CRUD)

### 2.1. Create Note

| ID        | Description                                     | Steps                                                                                                         | Expected Result                                                                                                | Test Level   | Priority |
| :-------- | :---------------------------------------------- | :------------------------------------------------------------------------------------------------------------ | :------------------------------------------------------------------------------------------------------------- | :----------- | :------- |
| NOTE-001  | Successfully create a new note with all valid fields. | 1. Log in. 2. Navigate to "Create Note" UI. 3. Fill in title, content, due date, priority, tags. 4. Save. | Note is created. Appears in the notes list. Success message. API `POST /api/notes` returns 201 with note data. | E2E          | High     |
| NOTE-002  | Create a note with only mandatory fields (e.g., title). | 1. Log in. 2. Navigate to "Create Note" UI. 3. Fill in title. 4. Save.                                   | Note is created. Default values applied for optional fields (status, priority).                                | E2E          | Medium   |
| NOTE-003  | Attempt to create a note with a missing mandatory field (e.g., title). | 1. Log in. 2. Navigate to "Create Note" UI. 3. Leave title blank. 4. Attempt to save.                 | Note creation fails. Inline validation error for title or form submission error. API returns 400.              | E2E          | High     |
| NOTE-004  | Backend: API `POST /api/notes` with valid data.  | 1. Send POST request to `/api/notes` with valid JSON payload (title, content, etc.).                          | 201 Created response. Note data returned, matching input. Note saved in DB.                                  | Integration  | High     |
| NOTE-005  | Backend: API `POST /api/notes` with invalid data (e.g., missing title). | 1. Send POST request to `/api/notes` with JSON payload missing `title`.                                   | 400 Bad Request response. Error message indicating missing field.                                              | Integration  | High     |

### 2.2. Read Note

| ID        | Description                                            | Steps                                                                                             | Expected Result                                                                                             | Test Level   | Priority |
| :-------- | :----------------------------------------------------- | :------------------------------------------------------------------------------------------------ | :---------------------------------------------------------------------------------------------------------- | :----------- | :------- |
| NOTE-006  | View list of own notes.                                | 1. Log in. 2. Navigate to notes list page.                                                        | User's notes are displayed. Data matches notes created by the user. API `GET /api/notes` returns 200.      | E2E          | High     |
| NOTE-007  | View details of a specific owned note.                 | 1. Log in. 2. From notes list, click on a note.                                                   | Note details page displays correct title, content, due date, priority, tags, attachments of selected note. | E2E          | High     |
| NOTE-008  | Backend: API `GET /api/notes` for authenticated user.  | 1. Send GET request to `/api/notes` as an authenticated user.                                     | 200 OK response. Returns array of notes belonging to or shared with the user.                             | Integration  | High     |
| NOTE-009  | Backend: API `GET /api/notes/{note_id}` for owned note. | 1. Send GET request to `/api/notes/{note_id}` for a note owned by the authenticated user.           | 200 OK response. Returns correct note details.                                                              | Integration  | High     |

### 2.3. Update Note

| ID        | Description                                  | Steps                                                                                                     | Expected Result                                                                                             | Test Level   | Priority |
| :-------- | :------------------------------------------- | :-------------------------------------------------------------------------------------------------------- | :---------------------------------------------------------------------------------------------------------- | :----------- | :------- |
| NOTE-010  | Successfully update an existing note's fields. | 1. Log in. 2. Open a note for editing. 3. Modify title, content, due date, priority, status. 4. Save.    | Note is updated. Changes are reflected in note list and detail view. API `PUT /api/notes/{id}` returns 200. | E2E          | High     |
| NOTE-011  | Attempt to clear a mandatory field (e.g., title) during update. | 1. Log in. 2. Open a note for editing. 3. Clear the title. 4. Attempt to save.                          | Update fails. Validation error for title. API returns 400.                                                  | E2E          | Medium   |
| NOTE-012  | Backend: API `PUT /api/notes/{note_id}` with valid data. | 1. Send PUT request to `/api/notes/{note_id}` for an owned note with valid updated JSON payload.        | 200 OK response. Updated note data returned. Changes saved in DB.                                           | Integration  | High     |

### 2.4. Delete Note

| ID        | Description                             | Steps                                                                              | Expected Result                                                                                                | Test Level   | Priority |
| :-------- | :-------------------------------------- | :--------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------- | :----------- | :------- |
| NOTE-013  | Successfully delete an owned note.        | 1. Log in. 2. From notes list or detail view, initiate delete for a note. 3. Confirm deletion. | Note is removed from the notes list. Success message. API `DELETE /api/notes/{id}` returns 200 or 204.        | E2E          | High     |
| NOTE-014  | Backend: API `DELETE /api/notes/{note_id}` for an owned note. | 1. Send DELETE request to `/api/notes/{note_id}` for an owned note.                   | 200 OK or 204 No Content response. Note is marked as deleted or removed from DB.                              | Integration  | High     |

---

## 3. Sharing & Permissions

| ID         | Description                                                              | Steps                                                                                                                                                            | Expected Result                                                                                                                                                              | Test Level   | Priority |
| :--------- | :----------------------------------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :----------- | :------- |
| SHARE-001  | User A shares a note with User B with 'view' permission.                 | 1. User A logs in. 2. User A opens a note. 3. User A uses sharing UI to share with User B, selecting 'view' permission.                                           | Note is shared. User B receives a notification (Slack/Email if configured). User B can see the note in their list (read-only). API `POST /api/notes/{id}/shares` is successful. | E2E          | High     |
| SHARE-002  | User A shares a note with User B with 'edit' permission.                 | 1. User A logs in. 2. User A opens a note. 3. User A uses sharing UI to share with User B, selecting 'edit' permission.                                            | User B can view and edit the note.                                                                                                                                           | E2E          | High     |
| SHARE-003  | User B (with 'view' permission) attempts to edit a note shared by User A. | 1. User A shares note with User B ('view'). 2. User B logs in. 3. User B opens the shared note and attempts to edit.                                                | Edit action is disabled in UI, or save attempt fails. API `PUT /api/notes/{id}` by User B returns 403.                                                                      | E2E          | High     |
| SHARE-004  | User A changes User B's permission from 'view' to 'edit'.                | 1. User A logs in. 2. User A manages sharing for a note shared with User B. 3. User A changes User B's permission to 'edit'.                                      | User B now has edit access to the note. API `PUT /api/notes/{id}/shares/{user_id}` is successful.                                                                              | E2E          | Medium   |
| SHARE-005  | User A revokes User B's access to a shared note.                         | 1. User A logs in. 2. User A manages sharing for a note. 3. User A removes User B from the shared list.                                                            | User B no longer sees the note in their list. API `DELETE /api/notes/{id}/shares/{user_id}` is successful.                                                                     | E2E          | High     |
| SHARE-006  | User A makes a note public to their team.                                | 1. User A logs in, belongs to Team X. 2. User A opens a note associated with Team X. 3. User A sets "is_public_to_team" to true (via note edit or sharing UI). | All other members of Team X can now view the note.                                                                                                                           | E2E          | Medium   |
| SHARE-007  | Backend: List users a note is shared with.                               | 1. Share a note with several users. 2. Send `GET /api/notes/{note_id}/shares` as the note owner.                                                                 | 200 OK response. Returns list of users with their `user_id`, `name`, `email`, `permission_level`.                                                                              | Integration  | High     |

---

## 4. Admin Dashboard (Basic Data Verification)

| ID        | Description                                                                 | Steps                                                                                                                              | Expected Result                                                                                                                              | Test Level   | Priority |
| :-------- | :-------------------------------------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------- | :----------- | :------- |
| ADMIN-001 | Admin views the "Team Activity" notes list.                                   | 1. Log in as Admin. 2. Navigate to Admin Dashboard > Team Activity.                                                                  | A list of notes from the admin's team(s) is displayed. Data appears consistent. API `GET /api/admin/notes` returns 200.                       | E2E          | High     |
| ADMIN-002 | Admin filters notes by a specific user on "Team Activity" page.               | 1. Log in as Admin. 2. Navigate to Admin Dashboard > Team Activity. 3. Select a user from the "Created By User" filter. 4. Apply. | The notes list updates to show only notes created by the selected user. API call includes `created_by_user_id` parameter.                   | E2E          | Medium   |
| ADMIN-003 | Admin filters notes by a specific status on "Team Activity" page.             | 1. Log in as Admin. 2. Navigate to Admin Dashboard > Team Activity. 3. Select a status from the "Status" filter. 4. Apply.          | The notes list updates to show only notes with the selected status. API call includes `status_id` parameter.                                 | E2E          | Medium   |
| ADMIN-004 | Admin views "Team Participation Summary".                                     | 1. Log in as Admin. 2. Navigate to Admin Dashboard > Participation Summary.                                                        | Summary statistics (total notes, status breakdown, user participation) are displayed. API `GET /api/admin/stats/summary` returns 200.        | E2E          | High     |
| ADMIN-005 | Admin triggers CSV export of notes.                                         | 1. Log in as Admin. 2. Navigate to Admin Dashboard > Team Activity. 3. (Optional) Apply filters. 4. Click "Export to CSV".         | A CSV file is downloaded. The file name is appropriate. (Content verification is a more detailed test). API `GET /api/admin/notes/export/csv` is called. | E2E          | Medium   |
| ADMIN-006 | Backend: API `GET /api/admin/notes` with `status_id` filter.                | 1. As Admin, send GET request to `/api/admin/notes?status_id=X`.                                                                   | 200 OK response. `data` array contains only notes with the specified `status_id`.                                                            | Integration  | High     |
| ADMIN-007 | Backend: API `GET /api/admin/stats/summary` returns data.                   | 1. As Admin, send GET request to `/api/admin/stats/summary`.                                                                       | 200 OK response. Returns JSON structure with expected keys (`overall_stats`, `status_breakdown`, `user_participation`).                    | Integration  | High     |

---

This list provides a starting point. Many more test cases would be derived for edge cases, different data combinations, UI interactions, error handling, and specific business rules for each feature.
---
